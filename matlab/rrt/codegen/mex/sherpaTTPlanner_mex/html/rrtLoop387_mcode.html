<pre class="code">
<span class="srcline"><span class="lineno"><a href="122,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,113" id="srcline113">113</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S69T52U507">T</span>,<span class="var type1" id="S70T4U508">nodeIDCount</span>,<span class="var type1" id="S71T50U509">xNew</span>] = rrtLoop(<span class="mxinfo " id="T52:U4"><span class="mxinfo " id="T52:U5"><span class="var type1" id="S69T52U512">T</span></span></span>,<span class="var type1" id="S72T21U513">jointLimits</span>,<span class="mxinfo " id="T8:U8"><span class="var type2" id="S73T8V7U514">cartesianLimits</span></span>,<span class="var type1" id="S74T7U515">kC</span>,<span class="var type1" id="S75T4U516">panHeight</span>,<span class="mxinfo " id="T5:U12"><span class="var type2" id="S76T5V5U517">U</span></span>,<span class="mxinfo " id="T4:U14"><span class="var type2" id="S77T4V4U518">Dt</span></span>,<span class="mxinfo " id="T4:U16"><span class="var type2" id="S78T4V3U519">dt</span></span>,<span class="mxinfo " id="T9:U18"><span class="var type2" id="S79T9V2U520">NODE_SIZE</span></span>,<span class="mxinfo " id="T9:U20"><span class="var type2" id="S80T9V6U521">U_SIZE</span></span>,<span class="mxinfo " id="T48:U22"><span class="var type2" id="S81T48V1U522">HGAINS</span></span>,<span class="mxinfo " id="T4:U24"><span class="var type2" id="S82T4V8U523">ankleThreshold</span></span>,<span class="mxinfo " id="T4:U26"><span class="mxinfo " id="T4:U27"><span class="var type1" id="S70T4U524">nodeIDCount</span></span></span>,<span class="var type1" id="S83T50U525">nGoal</span>,<span class="mxinfo " id="T9:U30"><span class="var type2" id="S84T9V9U526">goalSeedFreq</span></span>,<span class="var type1" id="S85T51U527">uBDot</span>,<span class="var type1" id="S86T9U528">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="122,114" id="srcline114">114</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="122,115" id="srcline115">115</a></span><span class="line">    <span class="mxinfo " id="T50:U34"><span class="var type1" id="S87T50U531">xRand</span> = <span class="mxinfo " id="T50:U36"><span class="fcn" id="F235N27:B533">randomState</span>(<span class="var type1" id="S72T21U534">jointLimits</span>,<span class="mxinfo " id="T8:U38"><span class="var type1" id="S73T8U535">cartesianLimits</span></span>,<span class="var type1" id="S75T4U536">panHeight</span>,<span class="var type1" id="S83T50U537">nGoal</span>,<span class="var type1" id="S70T4U538">nodeIDCount</span>,<span class="var type1" id="S84T9U539">goalSeedFreq</span>,<span class="var type1" id="S74T7U540">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,116" id="srcline116">116</a></span><span class="line">    [<span class="mxinfo " id="T50:U45"><span class="var type1" id="S89T50U544">xNear</span></span>,<span class="mxinfo " id="T4:U47"><span class="mxinfo " id="T4:U48">~</span></span>,<span class="mxinfo " id="T4:U49"><span class="mxinfo " id="T4:U50">~</span></span>] = <span class="fcn" id="F278N25:B548">nearestNeighbour</span>(<span class="var type1" id="S87T50U549">xRand</span>,<span class="var type1" id="S69T52U550">T</span>,<span class="var type1" id="S81T48U551">HGAINS</span>,<span class="var type1" id="S72T21U552">jointLimits</span>,<span class="var type1" id="S74T7U553">kC</span>,<span class="var type1" id="S70T4U554">nodeIDCount</span>,<span class="var type1" id="S79T9U555">NODE_SIZE</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,117" id="srcline117">117</a></span><span class="line">    [<span class="mxinfo " id="T50:U58"><span class="var type1" id="S71T50U559">xNew</span></span>,<span class="mxinfo " id="T57:U60"><span class="var type1" id="S91T57U560">transitionArray</span></span>]  = <span class="fcn" id="F386N32:B562">selectInput</span>(<span class="var type1" id="S89T50U563">xNear</span>,<span class="var type1" id="S87T50U564">xRand</span>,<span class="var type1" id="S76T5U565">U</span>,<span class="var type1" id="S78T4U566">dt</span>,<span class="var type1" id="S77T4U567">Dt</span>,<span class="var type1" id="S79T9U568">NODE_SIZE</span>,<span class="var type1" id="S80T9U569">U_SIZE</span>,<span class="var type1" id="S81T48U570">HGAINS</span>,<span class="var type1" id="S74T7U571">kC</span>,<span class="mxinfo " id="T4:U71"><span class="var type1" id="S82T4U572">ankleThreshold</span></span>,<span class="var type1" id="S72T21U573">jointLimits</span>,<span class="var type1" id="S85T51U574">uBDot</span>,<span class="var type1" id="S86T9U575">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,118" id="srcline118">118</a></span><span class="line">    <span class="mxinfo " id="T4:U76"><span class="var type1" id="S70T4U578">nodeIDCount</span> = <span class="mxinfo " id="T4:U78"><span class="var type1" id="S70T4U580">nodeIDCount</span> + <span class="mxinfo " id="T4:U80">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,119" id="srcline119">119</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T4:U81"><span class="mxinfo " id="T4:U82"><span class="var type1" id="S71T50U585">xNew</span>(<span class="mxinfo " id="T4:U84">1</span>)</span> = <span class="var type1" id="S70T4U587">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T4:U86"><span class="mxinfo " id="T4:U87"><span class="var type1" id="S71T50U591">xNew</span>(<span class="mxinfo " id="T4:U89">2</span>)</span> = <span class="mxinfo " id="T4:U90"><span class="var type1" id="S89T50U594">xNear</span>(<span class="mxinfo " id="T4:U92">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,122" id="srcline122">122</a></span><span class="line">    <span class="mxinfo " id="T4:U93"><span class="mxinfo " id="T4:U94"><span class="var type1" id="S71T50U599">xNew</span>(<span class="mxinfo " id="T4:U96">3</span>)</span> = <span class="mxinfo " id="T4:U97"><span class="mxinfo " id="T4:U98"><span class="var type1" id="S89T50U603">xNear</span>(<span class="mxinfo " id="T4:U100">3</span>)</span> + <span class="mxinfo " id="T4:U101"><span class="fcn" id="F371N23:B606">heuristicSingleLeg</span>(<span class="var type1" id="S71T50U607">xNew</span>,<span class="var type1" id="S89T50U608">xNear</span>,<span class="mxinfo " id="T48:U104"><span class="var type1" id="S81T48U609">HGAINS</span></span>,<span class="var type1" id="S72T21U610">jointLimits</span>,<span class="var type1" id="S74T7U611">kC</span>)</span></span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,123" id="srcline123">123</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,124" id="srcline124">124</a></span><span class="line">    <span class="mxinfo " id="T53:U108"><span class="mxinfo " id="T53:U109"><span class="var type1" id="S69T52U615">T</span>(<span class="var type1" id="S70T4U616">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T53:U112">[<span class="var type1" id="S71T50U620">xNew</span> <span class="var type1" id="S91T57U621">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="122,125" id="srcline125">125</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,126" id="srcline126">126</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,127" id="srcline127">127</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,128" id="srcline128">128</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,129" id="srcline129">129</a></span><span class="line"></span></span>
</pre>
